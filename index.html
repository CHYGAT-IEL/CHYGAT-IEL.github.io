<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>赛博战争俱乐部/CYBER WAR CLUB</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="./mini/mini-player.css">
  <style>
    #video-mask {
      position: fixed;
      z-index: 9999;
      inset: 0;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.6s;
    }

    #video-mask.hide {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s;
    }

    #intro-video {
      max-width: 100vw;
      max-height: 100vh;
      background: #000;
    }

    #main-content {
      opacity: 0;
      transition: opacity 0.6s;
    }

    #main-content.show {
      opacity: 1;
    }

    .bili-menu {
      position: relative;
    }

    #loading-page {
      position: fixed;
      z-index: 10000;
      inset: 0;
      background: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s;
    }

    #loading-page.hide {
      opacity: 0;
      pointer-events: none;
    }

    .uiverse-loader-container {
      position: relative;
      width: 96px;
      height: 96px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .uiverse-loader {
      position: absolute;
      top: 50%;
      left: 50%;
      border-radius: 50%;
      height: 96px;
      width: 96px;
      animation: rotate_3922 1.2s linear infinite;
      background-color: #9b59b6;
      background-image: linear-gradient(#9b59b6, #84cdfa, #5ad1cd);
    }

    .uiverse-loader span {
      position: absolute;
      border-radius: 50%;
      height: 100%;
      width: 100%;
      background-color: #9b59b6;
      background-image: linear-gradient(#9b59b6, #84cdfa, #5ad1cd);
    }

    .uiverse-loader span:nth-of-type(1) {
      filter: blur(5px);
    }

    .uiverse-loader span:nth-of-type(2) {
      filter: blur(10px);
    }

    .uiverse-loader span:nth-of-type(3) {
      filter: blur(25px);
    }

    .uiverse-loader span:nth-of-type(4) {
      filter: blur(50px);
    }

    .uiverse-loader::after {
      content: "";
      position: absolute;
      top: 10px;
      left: 10px;
      right: 10px;
      bottom: 10px;
      background-color: #fff;
      border: solid 5px #ffffff;
      border-radius: 50%;
    }

    @keyframes rotate_3922 {
      from {
        transform: translate(-50%, -50%) rotate(0deg);
      }

      to {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    .loading-text {
      color: #00e6d8;
      margin-top: 18px;
      font-size: 1.2em;
      letter-spacing: 2px;
      text-align: center;
    }
  </style>
</head>

<body>
  <div id="loading-page">
    <div class="uiverse-loader-container">
      <div class="uiverse-loader">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <div class="loading-text" style="position:absolute;top:calc(50% + 70px);left:50%;transform:translate(-50%,0);">
      加载中...</div>
  </div>
  <div id="video-mask">
    <video id="intro-video" src="intro.mp4" autoplay muted playsinline></video>
  </div>
  <nav class="bili-navbar" id="main-navbar" style="opacity:0;">
    <div class="bili-logo" id="userLogoArea">
    </div>
    <ul class="bili-menu" id="navMenu">
      <li><a href="../index.html">首页</a></li>
      <li><a href="Branch/OPintroduction.html">团队介绍</a></li>
      <li><a href="Branch/zxqg.html">插件详情</a></li>
      <li><a href="Branch/Server rules.html">服务器规则</a></li>
      <li><a href="#join">服务器信息</a></li>
      <li><a href="Branch/Server rules.html">服务器历史</a></li>
      <li class="dropdown">
        <a href="javascript:void(0)">其他 <span style="font-size:0.9em;">▼</span></a>
        <ul class="dropdown-menu">
          <li><a href="">OA</a></li>
          <li><a href="">2</a></li>
          <li><a href="">3</a></li>
        </ul>
      </li>
    </ul>
    <div class="user-info" id="userInfo"></div>
  </nav>
  <div class="container" id="main-content">
    <header class="header">
      <div class="banner">
        <img src="logo.jpg" alt="赛博战争LOGO" class="server-logo">
        <h1>赛博战争俱乐部</h1>
        <p class="subtitle">CYBER WAR CLUB</p>
      </div>
    </header>
    <main class="main-content">
      <section class="features">
        <h2></h2>
        <div class="features-list">
          <a class="feature-item" data-tooltip="点击查看详情" href="" target="_blank">
            <span class="icon">💵</span>
            <h3>广告位招租</h3>
            <p>广告位招租</p>
          </a>
          <a class="feature-item" data-tooltip="优秀的OP团队,点击查看详情" href="Branch/OPintroduction.html">
            <span class="icon">🛡️</span>
            <h3>团队介绍</h3>
            <p>24小时OP值班,拥有严格的执法规定,保障游玩时的体验</p>
          </a>
          <a class="feature-item" data-tooltip="点击查看插件介绍" href="Branch/zxqg.html">
            <span class="icon">⚙️</span>
            <h3>丰富插件</h3>
            <p>丰富的插件与每日奖励,可用于开启任何功能</p>
          </a>
          <a class="feature-item" data-tooltip="点击查看服务器规则" href="Branch/Server rules.html">
            <span class="icon">📖</span>
            <h3>服务器规则</h3>
            <p>服规就是服规,无人能违抗</p>
          </a>
          <a class="feature-item" data-tooltip="点击查看详情" href="">
            <span class="icon">📜</span>
            <h3>服务器历史</h3>
            <p>赛博战争俱乐部的历史,由来及未来</p>
          </a>
          <a class="feature-item" data-tooltip="点击查看详情" href="">
            <span class="icon">🔒</span>
            <h3>空无一物</h3>
            <p>未填写任何信息</p>
          </a>

      </section>
      <section class="server-details" id="join">
        <h2>服务器信息</h2>
        <div class="info-grid">
          <div>
            <strong>服务器名称：</strong>
            <span>『CYBER』赛博战争俱乐部</span>
          </div>
          <div>
            <strong>服务器指定 [抖音] 主播：</strong>
            <a href="https://v.douyin.com/LhDziTfEvnY/ 3@7.com :1pm" target="_blank">南方科支没有手 (点击查看)</a>
          </div>
          <div>
            <strong>QQ玩家群：</strong>
            <a href="https://qm.qq.com/cgi-bin/qm/qr?k=1026204747" target="_blank">1026204747 (点击进入)</a>
          </div>
          <div>
            <strong>YY：</strong>
            <a href="https://yy.com/708627" target="_blank">708627 (点击进入)</a>
          </div>
        </div>
      </section>
    </main>
    <footer class="footer">
      &copy;2025 本站由CYBER WAR CLUB|赛博战争俱乐部 开发并拥有所有权 | <a href="https://beian.miit.gov.cn"
        target="_blank">ICP备XXXXX号-1</a> |<a href="Branch/imqa.html">关于我们</a>
    </footer>
  </div>
  <script>
    const video = document.getElementById('intro-video');
    const mask = document.getElementById('video-mask');
    const main = document.getElementById('main-content');
    const navbar = document.getElementById('main-navbar');
    const transitionTime = 600;

    const hasVisited = sessionStorage.getItem('hasVisited');

    function showMain() {
      mask.classList.add('hide');
      main.classList.add('show');
      navbar.style.opacity = '1';
      setTimeout(() => {
        mask.style.display = 'none';
      }, transitionTime);
      sessionStorage.setItem('hasVisited', 'true');
    }

    if (!hasVisited) {
      video.onended = showMain;
      video.onerror = video.onabort = showMain;
      mask.addEventListener('click', showMain);
    } else {
      mask.style.display = 'none';
      main.classList.add('show');
      navbar.style.opacity = '1';
    }

    function renderUserLogo() {
      const userLogoArea = document.getElementById('userLogoArea');
      const user = JSON.parse(localStorage.getItem('user') || 'null');
      if (user && user.name) {
        userLogoArea.innerHTML = `<img src="${user.avatar || '/default-avatar.png'}" alt="头像"><span class="user-name">${user.name}</span>`;
        userLogoArea.style.cursor = "default";
        userLogoArea.onclick = null;
      } else {
        userLogoArea.innerHTML = `
          <img src="/default-avatar.png" alt="未登录头像">
          <span class="user-name">未登录</span>
        `;
        userLogoArea.style.cursor = "pointer";
        userLogoArea.onclick = function () {
          window.location.href = "login.html";
        };
      }
    }

    function renderUserInfo() {
      const userInfo = document.getElementById('userInfo');
      const user = JSON.parse(localStorage.getItem('user') || 'null');
      if (user && user.name) {
        userInfo.innerHTML = `<button id="logoutBtn" title="退出登录" style="margin-left:8px;background:none;border:none;color:#00e6d8;cursor:pointer;">退出</button>`;
        document.getElementById('logoutBtn').onclick = function () {
          localStorage.removeItem('user');
          renderUserLogo();
          renderUserInfo();
        };
      } else {
        userInfo.innerHTML = '';
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      renderUserLogo();
      renderUserInfo();
      const loadingPage = document.getElementById('loading-page');
      if (loadingPage) {
        loadingPage.classList.add('hide');
        setTimeout(() => {
          loadingPage.style.display = 'none';
        }, 500);
      }
    });
  </script>
  
  <script type="module" src="./mini/bgmes.js"></script>
</body>
</html>