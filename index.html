<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>èµ›åšæˆ˜äº‰ä¿±ä¹éƒ¨/CYBER WAR CLUB</title>
  <link rel="stylesheet" href="style.css">
  <style>
    #video-mask {
      position: fixed;
      z-index: 9999;
      inset: 0;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.6s;
    }
    #video-mask.hide {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s;
    }
    #intro-video {
      max-width: 100vw;
      max-height: 100vh;
      background: #000;
    }
    #main-content {
      opacity: 0;
      transition: opacity 0.6s;
    }
    #main-content.show {
      opacity: 1;
    }
  </style>
</head>

<body>
  <div id="video-mask">
    <video id="intro-video" src="intro.mp4" autoplay muted playsinline></video>
  </div>
  <!-- æ‚¬æµ®å¯¼èˆªæ  -->
  <nav class="bili-navbar" id="main-navbar" style="opacity:0;">
    <div class="bili-logo" id="userLogoArea">
      <!-- è¿™é‡Œå†…å®¹ç”±JSåŠ¨æ€æ¸²æŸ“ -->
    </div>
    <ul class="bili-menu" id="navMenu">
      <li><a href="index.html">é¦–é¡µ</a></li>
      <li><a href="Branch/OPintroduction.html">å›¢é˜Ÿä»‹ç»</a></li>
      <li><a href="Branch/Pluginintroduction.html">æ’ä»¶ä»‹ç»</a></li>
      <li><a href="Branch/Server rules.html">æœåŠ¡å™¨è§„åˆ™</a></li>
      <li><a href="#join">æœåŠ¡å™¨ä¿¡æ¯</a></li>
    </ul>
    <div class="user-info" id="userInfo"></div>
  </nav>
  <div class="container" id="main-content">
    <header class="header">
      <div class="banner">
        <img src="logo.jpg" alt="èµ›åšæˆ˜äº‰LOGO" class="server-logo">
        <h1>èµ›åšæˆ˜äº‰ä¿±ä¹éƒ¨</h1>
        <p class="subtitle">CYBER WAR CLUB</p>
        <a href="https://space.bilibili.com" target="_blank" class="bili-btn">å®˜æ–¹è´¦å·</a>
      </div>
    </header>
    <main class="main-content">
      <section class="features">
        <h2></h2>
        <div class="features-list">
          <a class="feature-item" data-tooltip="ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…" href="#" target="_blank">
            <span class="icon">ğŸ’µ</span>
            <h3>å¹¿å‘Šä½æ‹›ç§Ÿ</h3>
            <p>å¹¿å‘Šä½æ‹›ç§Ÿ.,</p>
          </a>
          <a class="feature-item" data-tooltip="ä¼˜ç§€çš„OPå›¢é˜Ÿ,ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…" href="Branch/OPintroduction.html">
            <span class="icon">ğŸ›¡ï¸</span>
            <h3>å›¢é˜Ÿä»‹ç»</h3>
            <p>24å°æ—¶OPå€¼ç­,æ‹¥æœ‰ä¸¥æ ¼çš„æ‰§æ³•è§„å®š,ä¿éšœæ¸¸ç©æ—¶çš„ä½“éªŒ</p>
          </a>
          <a class="feature-item" data-tooltip="ç‚¹å‡»æŸ¥çœ‹æ’ä»¶ä»‹ç»" href="Branch/Pluginintroduction.html">
            <span class="icon">âš™ï¸</span>
            <h3>ä¸°å¯Œæ’ä»¶</h3>
            <p>ä¸°å¯Œçš„æ’ä»¶ä¸æ¯æ—¥å¥–åŠ±,å¯ç”¨äºå¼€å¯ä»»ä½•åŠŸèƒ½</p>
          </a>
          <a class="feature-item" data-tooltip="ç‚¹å‡»æŸ¥çœ‹æœåŠ¡å™¨è§„åˆ™" href="Branch/Server rules.html">
            <span class="icon">ğŸ“‹</span>
            <h3>æœåŠ¡å™¨è§„åˆ™</h3>
            <p>æœè§„å°±æ˜¯æœè§„,æˆ‘æ²¡æƒ³åˆ°å†™ä»€ä¹ˆ,è¿™æ¡æˆ‘å°±ä¹±å†™å§ã€‚</p>
          </a>
        </div>
      </section>
      <section class="server-details" id="join">
        <h2>æœåŠ¡å™¨ä¿¡æ¯</h2>
        <div class="info-grid">
          <div>
            <strong>æœåŠ¡å™¨åç§°ï¼š</strong>
            <span>ã€CYBERã€èµ›åšæˆ˜äº‰ä¿±ä¹éƒ¨</span>
          </div>
          <div>
            <strong>YYï¼š</strong>
            <a href="https://yy.com/708627" target="_blank">708627 (ç‚¹å‡»è¿›å…¥)</a>
          </div>
          <div>
            <strong>QQç©å®¶1ç¾¤ï¼š</strong>
            <a href="https://qm.qq.com/cgi-bin/qm/qr?k=833835637" target="_blank">833835637 (ç‚¹å‡»è¿›å…¥)</a>
          </div>
          <div>
            <strong>QQç©å®¶2ç¾¤ï¼š</strong>
            <a href="https://qm.qq.com/cgi-bin/qm/qr?k=1026204747" target="_blank">1026204747 (ç‚¹å‡»è¿›å…¥)</a>
          </div>
        </div>
      </section>
    </main>
    <footer class="footer">
      &copy;2025 æœ¬ç½‘ç«™ç”± CYBER WAR CLUB|èµ›åšæˆ˜äº‰ä¿±ä¹éƒ¨ å¼€å‘å¹¶æ‹¥æœ‰æ‰€æœ‰æƒ | <a href="#" target="_blank">å…³äºæˆ‘ä»¬</a>
    </footer>
  </div>
  <script>
    const video = document.getElementById('intro-video');
    const mask = document.getElementById('video-mask');
    const main = document.getElementById('main-content');
    const navbar = document.getElementById('main-navbar');
    const transitionTime = 600;

    // åˆ¤æ–­æ˜¯å¦æœ¬æ¬¡ä¼šè¯é¦–æ¬¡è®¿é—®
    const hasVisited = sessionStorage.getItem('hasVisited');

    function showMain() {
      mask.classList.add('hide');
      main.classList.add('show');
      navbar.style.opacity = '1';
      setTimeout(() => {
        mask.style.display = 'none';
      }, transitionTime);
      // æ ‡è®°æœ¬æ¬¡ä¼šè¯å·²è®¿é—®
      sessionStorage.setItem('hasVisited', 'true');
    }

    if (!hasVisited) {
      // é¦–æ¬¡è®¿é—®ï¼Œæ˜¾ç¤ºè§†é¢‘
      video.onended = showMain;
      video.onerror = video.onabort = showMain;
      mask.addEventListener('click', showMain);
    } else {
      // æœ¬æ¬¡ä¼šè¯å·²è®¿é—®ï¼Œç›´æ¥æ˜¾ç¤ºä¸»å†…å®¹å’Œå¯¼èˆªæ 
      mask.style.display = 'none';
      main.classList.add('show');
      navbar.style.opacity = '1';
    }

    // ç™»å½•å¤´åƒåŒºæ¸²æŸ“
    function renderUserLogo() {
      const userLogoArea = document.getElementById('userLogoArea');
      const user = JSON.parse(localStorage.getItem('user') || 'null');
      if (user && user.name) {
        userLogoArea.innerHTML = `<img src="${user.avatar || '/default-avatar.png'}" alt="å¤´åƒ"><span class="user-name">${user.name}</span>`;
        userLogoArea.style.cursor = "default";
        userLogoArea.onclick = null;
      } else {
        userLogoArea.innerHTML = `
          <img src="/default-avatar.png" alt="æœªç™»å½•å¤´åƒ">
          <span class="user-name">æœªç™»å½•</span>
        `;
        userLogoArea.style.cursor = "pointer";
        userLogoArea.onclick = function() {
          window.location.href = "login.html";
        };
      }
    }

    // å³ä¾§åªæ˜¾ç¤ºé€€å‡ºæŒ‰é’®
    function renderUserInfo() {
      const userInfo = document.getElementById('userInfo');
      const user = JSON.parse(localStorage.getItem('user') || 'null');
      if (user && user.name) {
        userInfo.innerHTML = `<button id="logoutBtn" title="é€€å‡ºç™»å½•" style="margin-left:8px;background:none;border:none;color:#00e6d8;cursor:pointer;">é€€å‡º</button>`;
        document.getElementById('logoutBtn').onclick = function() {
          localStorage.removeItem('user');
          renderUserLogo();
          renderUserInfo();
        };
      } else {
        userInfo.innerHTML = '';
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      renderUserLogo();
      renderUserInfo();
    });
  </script>
</body>
</html>